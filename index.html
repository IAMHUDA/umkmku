<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Form</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/css/index.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <script defer src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script defer src="./assets/js/index.js"></script>
  </head>

  <body>
    <div class="container">
      <div class="order-summary">
        <h2>Struk Pemesanan</h2>
        <table class="order-table">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Harga</th>
              <th>Qty</th>
              <th>Jumlah</th>
              <th>Hapus</th>
            </tr>
          </thead>
          <tbody id="orderDetails">
            <!-- Order details will be displayed here -->
          </tbody>
        </table>
        <div class="total-amount">Total: Rp <span id="totalAmount">0</span></div>
      </div>

      <div class="scroll-section">
        <h3>Menu</h3>
        <div class="menu-buttons">
          <button class="btn btn-light menu-toggle" onclick="toggleSection('makananList')">
            <i class="bi bi-basket-fill"></i> Makanan
          </button>
          <button class="btn btn-light menu-toggle" onclick="toggleSection('minumanList')">
            <i class="bi bi-cup-fill"></i> Minuman
          </button>
          <button class="btn btn-light menu-toggle" onclick="toggleSection('jajananList')">
            <i class="bi bi-egg-fried"></i> Jajanan
          </button>
          <button class="btn btn-light menu-toggle" onclick="toggleSection('toppingList')">
            <i class="bi bi-toppings"></i> Topping
          </button>
        </div>
        <div class="item-list" id="makananList" style="display: none;">
          <!-- Makanan items will be dynamically generated here -->
        </div>
        <div class="item-list" id="minumanList" style="display: none;">
          <!-- Minuman items will be dynamically generated here -->
        </div>
        <div class="item-list" id="jajananList" style="display: none;">
          <!-- Jajanan items will be dynamically generated here -->
        </div>
        <div class="item-list" id="toppingList" style="display: none;">
          <!-- Topping items will be dynamically generated here -->
        </div>
      </div>

      <div class="form-container">
        <h4>Order Form</h4>
        <div class="form-section">
          <div class="mb-3">
            <label for="customerName" class="form-label">Nama Pelanggan</label>
            <input type="text" class="form-control" id="customerName" required />
          </div>
          <div class="mb-3">
            <label for="orderDate" class="form-label">Tanggal Pemesanan</label>
            <input type="date" class="form-control" id="orderDate" required />
          </div>
          <div class="mb-3">
            <label for="paymentMethod" class="form-label">Metode Pembayaran</label>
            <select class="form-select" id="paymentMethod">
              <option value="cash">Cash</option>
              <option value="transfer">Transfer</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="paymentStatus" class="form-label">Status Pembayaran</label>
            <select class="form-select" id="paymentStatus">
              <option value="paid">Sudah Dibayar</option>
              <option value="unpaid">Belum Dibayar</option>
            </select>
          </div>
          <button class="btn btn-primary" onclick="saveOrder()">Simpan Data</button>
          <br />
          <button class="btn btn-secondary" onclick="window.location.href='tabel.html'">Lihat Semua Pesanan</button>
        </div>
      </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyD6zN162LNFtTV_NnRpAb0tVZWe8VS2Zqo",
        authDomain: "umkmku-6fcce.firebaseapp.com",
        projectId: "umkmku-6fcce",
        storageBucket: "umkmku-6fcce.appspot.com",
        messagingSenderId: "727965779260",
        appId: "1:727965779260:web:5dabdd7694f8b81c30ca39",
        measurementId: "G-QGJ67SZ6WY"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

      // Initialize Firestore
      var db = firebase.firestore();

      function toggleSection(sectionId) {
        const sections = document.querySelectorAll('.item-list');
        sections.forEach(section => {
          if (section.id === sectionId) {
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
          } else {
            section.style.display = 'none';
          }
        });
      }


    </script>
  </body>
</html>
